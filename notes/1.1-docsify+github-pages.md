# 1.1 用 docsify+github 搭建笔记库

使用 docsify + GitHub 搭建个人博客/笔记库是非常轻量且高效的选择（无需构建编译、纯静态、易维护），以下是**从零到上线的完整步骤**，涵盖环境准备、配置、部署和个性化优化：

### 一、核心原理
- docsify：将 Markdown 文件直接渲染为网页，无需打包构建，修改 Markdown 即可实时更新内容
- GitHub：托管 Markdown 笔记文件 + 通过 GitHub Pages 免费部署网页

### 二、前置准备
1. **GitHub 账号**：没有的话先注册（[github.com](https://github.com)）
2. **Git 环境**：本地安装 Git（[官网下载](https://git-scm.com/downloads)），并配置 GitHub 账号（`git config --global user.name "你的用户名"` / `git config --global user.email "你的邮箱"`）
3. **基础 Markdown 笔记**：准备好要展示的笔记（后续也可以边搭边写）

### 三、步骤 1：创建 GitHub 仓库（托管笔记）
1. 打开 GitHub，点击右上角「+」→「New repository」
2. 填写仓库信息：
   - **Repository name**：建议命名为 `<你的用户名>.github.io`（这样 GitHub Pages 访问地址就是 `https://<你的用户名>.github.io`，更简洁）
   - **Visibility**：选 Public（免费版 GitHub Pages 仅支持公共仓库）
   - 勾选「Add a README file」（快速初始化仓库）
   - 点击「Create repository」

### 四、步骤 2：本地初始化 docsify 项目
#### 方式 1：本地快速初始化（推荐，便于调试）
1. **克隆仓库到本地**：
   ```bash
   # 替换为你的仓库地址（HTTPS/SSH 均可）
   git clone https://github.com/你的用户名/你的用户名.github.io.git
   cd 你的用户名.github.io
   ```

2. **安装 docsify-cli（全局工具，用于本地预览）**：
   先安装 Node.js（[官网下载](https://nodejs.org/)，包含 npm），然后执行：
   ```bash
   npm i docsify-cli -g
   ```

3. **初始化 docsify 项目**：
   ```bash
   # 在当前仓库目录初始化
   docsify init ./
   ```
   执行后会生成 3 个核心文件：
   - `index.html`：入口文件（配置 docsify 主题、插件、导航等）
   - `README.md`：首页内容（对应网站根页面）
   - `.nojekyll`：告诉 GitHub Pages 忽略 Jekyll 解析（docsify 不需要）

#### 方式 2：直接在 GitHub 网页创建文件（无本地环境也可）
如果不想装 Node.js，可直接在 GitHub 仓库页面点击「Add file」→「Create new file」，手动创建上述 3 个文件：
- `index.html`：内容先复制 [docsify 官方默认模板](https://docsify.js.org/#/quickstart)
- `README.md`：写首页标题/介绍
- `.nojekyll`：空文件即可

### 五、步骤 3：配置 docsify（核心，个性化你的博客）
编辑 `index.html`，核心配置都在 `<script>` 标签里，以下是**实用的基础配置模板**（替换注释内容为你的信息）：
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>你的博客标题 | 笔记库</title>
  <!-- 移动端适配 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- docsify 核心样式 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <!-- 可选：暗黑模式主题（二选一/都加） -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/dark.css" title="Dark">
</head>
<body>
  <!-- 页面挂载点 -->
  <div id="app"></div>

  <script>
    window.$docsify = {
      // 基础配置
      name: '你的博客名称', // 左上角显示的名称
      repo: 'https://github.com/你的用户名/你的用户名.github.io', // 右上角 GitHub 图标链接
      loadSidebar: true, // 启用侧边栏（需创建 _sidebar.md）
      loadNavbar: true, // 启用顶部导航栏（需创建 _navbar.md）
      auto2top: true, // 切换页面时回到顶部
      homepage: 'README.md', // 首页文件
      coverpage: true, // 启用封面页（需创建 _coverpage.md）
      subMaxLevel: 3, // 侧边栏支持的 Markdown 标题层级
      alias: { // 路径别名（方便整理笔记）
        '/.*/_sidebar.md': '/_sidebar.md' // 所有目录共用侧边栏
      },
      // 插件配置（按需添加）
      plugins: [
        // 代码复制按钮
        function(hook, vm) {
          hook.afterEach(function(html) {
            return html + '<script src="https://cdn.jsdelivr.net/npm/docsify-copy-code@2/dist/docsify-copy-code.min.js"></script>';
          });
        }
      ]
    }
  </script>

  <!-- docsify 核心脚本 -->
  <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <!-- 代码高亮 -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <!-- 数学公式支持（按需） -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/docsify-katex@1/dist/docsify-katex.min.js"></script> -->
</body>
</html>
```

### 六、步骤 4：整理笔记结构 & 配置导航/侧边栏
#### 1. 目录结构示例（推荐）
```
你的用户名.github.io/
├── README.md          # 首页内容
├── index.html         # docsify 配置文件
├── .nojekyll          # GitHub Pages 兼容文件
├── _coverpage.md      # 封面页（可选）
├── _navbar.md         # 顶部导航栏（可选）
├── _sidebar.md        # 侧边栏（核心）
├── notes/             # 笔记分类目录
│   ├── js笔记.md
│   ├── git笔记.md
│   └── 算法笔记.md
└── about.md           # 关于页面
```

#### 2. 配置侧边栏（_sidebar.md）
创建 `_sidebar.md`，用于导航所有笔记（Markdown 列表格式）：
```markdown
- 首页
  - [介绍](/)
- 技术笔记
  - [JavaScript 核心](notes/js笔记.md)
  - [Git 常用命令](notes/git笔记.md)
  - [算法刷题](notes/算法笔记.md)
- 关于
  - [关于我](about.md)
```

#### 3. 配置顶部导航栏（_navbar.md）
创建 `_navbar.md`，支持多级导航：
```markdown
* 导航
  * [首页](/)
  * [笔记目录](/notes/)
  * [GitHub](https://github.com/你的用户名)
* 工具
  * [在线编辑器](https://code.visualstudio.com/)
```

#### 4. 配置封面页（_coverpage.md，可选）
创建 `_coverpage.md`，打造个性化封面：
```markdown
![logo](https://cdn.jsdelivr.net/gh/你的用户名/仓库名/图片路径.png)
# 我的技术笔记库
> 持续学习，持续记录

[GitHub](https://github.com/你的用户名)
[开始阅读](/README.md)

<!-- 背景图片 -->
![background](https://cdn.jsdelivr.net/gh/你的用户名/仓库名/背景图路径.png)
```

### 七、步骤 5：本地预览调试
在仓库目录执行：
```bash
docsify serve
```
浏览器访问 `http://localhost:3000`，即可实时预览效果（修改 Markdown/配置后刷新页面即可生效）。

### 八、步骤 6：部署到 GitHub Pages
1. **提交代码到 GitHub**：
   ```bash
   # 本地添加所有文件
   git add .
   # 提交备注
   git commit -m "初始化 docsify 博客 + 笔记库"
   # 推送到 GitHub（首次推送需关联远程仓库，若克隆时已关联则直接推）
   git push origin main
   ```

2. **开启 GitHub Pages**：
   - 打开 GitHub 仓库页面 → 点击「Settings」→ 左侧「Pages」
   - 「Source」部分：
     - Branch：选择 `main`（或 `master`）
     - Folder：选择 `/root`（根目录）
   - 点击「Save」，等待 1-2 分钟后，页面会显示访问地址（`https://<你的用户名>.github.io`）。

### 九、进阶优化（可选）
1. **自定义域名**：
   - 购买域名（如阿里云、腾讯云），添加 DNS 解析：
     - 类型 A：记录值 `185.199.108.153`（GitHub Pages 官方 IP）
     - 类型 CNAME：记录值 `<你的用户名>.github.io`
   - 仓库根目录创建 `CNAME` 文件，内容为你的域名（如 `notes.xxx.com`）
   - GitHub Pages 设置中填写自定义域名，开启「Enforce HTTPS」。

2. **添加搜索功能**：
   在 `index.html` 的 `$docsify` 中添加：
   ```js
   search: {
     placeholder: '搜索笔记...',
     noData: '未找到相关笔记',
     depth: 3 // 搜索深度
   }
   ```
   并引入搜索插件脚本：
   ```html
   <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
   ```

3. **添加评论功能**：
   集成 Giscus（基于 GitHub Discussions）：
   ```html
   <!-- 引入 Giscus 脚本，需先在 GitHub 配置 Giscus -->
   <script src="https://giscus.app/client.js"
     data-repo="你的用户名/仓库名"
     data-repo-id="仓库ID"
     data-category="Comments"
     data-category-id="分类ID"
     data-mapping="pathname"
     data-reactions-enabled="1"
     data-emit-metadata="0"
     data-input-position="bottom"
     data-theme="light"
     data-lang="zh-CN"
     crossorigin="anonymous"
     async>
   </script>
   ```

4. **笔记版本管理**：
   利用 Git 分支管理不同版本的笔记，或通过 GitHub Releases 归档重要版本。

### 十、日常维护（核心优势）
- **添加新笔记**：本地新建 Markdown 文件 → 更新 `_sidebar.md` → `git add/commit/push` → 自动同步到线上。
- **修改笔记**：直接编辑 Markdown 文件 → 推送后实时生效（无需重新构建）。
- **备份**：GitHub 仓库本身就是备份，也可克隆到本地多端同步。

### 常见问题
1. **GitHub Pages 访问 404**：
   - 检查仓库名是否为 `<用户名>.github.io`
   - 检查 Pages 配置的分支/目录是否正确
   - 等待 5 分钟（GitHub Pages 部署有延迟）。

2. **侧边栏不显示**：
   - 确认 `loadSidebar: true`
   - 确认 `_sidebar.md` 路径正确，且语法为标准 Markdown 列表。

3. **样式错乱**：
   - 检查 `index.html` 中 CSS/JS 链接是否有效（推荐用 jsdelivr 镜像）。

按照以上步骤，你就能快速搭建一个轻量、易维护的 Markdown 笔记库博客，后续只需专注于写笔记，无需关心部署和构建～